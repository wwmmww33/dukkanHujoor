<main class="main-content">
        <div class="product-form-container fade-in">
    <div class="product-form-card">
        <div class="form-header">
            <h1 class="form-title">โจ ุฅุถุงูุฉ ููุชุฌ ุฌุฏูุฏ</h1>
            <p class="form-subtitle">ุดุงุฑู ููุชุฌู ูุน ุงููุฌุชูุน</p>
        </div>
        
        <% if (error) { %>
            <div class="alert alert-error">
                <i class="error-icon">โ๏ธ</i>
                <%= error %>
            </div>
        <% } %>
        
        <% if (success) { %>
            <div class="alert alert-success">
                <i class="success-icon">โ</i>
                <%= success %>
            </div>
        <% } %>
        
        <form method="POST" action="/add-product" enctype="multipart/form-data" class="product-form">
            <div class="form-row">
                <div class="form-group">
                    <label for="name" class="form-label">๐ ุนููุงู ุงูููุชุฌ *</label>
                    <input type="text" id="name" name="title" required 
                           class="form-input"
                           placeholder="ุฃุฏุฎู ุนููุงู ูุงุถุญ ูุฌุฐุงุจ ููููุชุฌ"
                           maxlength="100">
                </div>
                
                <div class="form-group">
                    <label for="price" class="form-label">๐ฐ ุงูุณุนุฑ (ุฑูุงู) *</label>
                    <input type="number" id="price" name="price" required 
                           class="form-input"
                           placeholder="0.00" 
                           min="0" 
                           step="0.01">
                </div>
            </div>
            </div>
</div> <!-- This closes the form-row -->

<!-- ======== ุจุฏุงูุฉ ุฅุถุงูุฉ ุญูู ุงูุชุตููู ======== -->
<div class="form-group">
    <label for="category_id" class="form-label">๐ท๏ธ ุงุฎุชุฑ ุชุตูููุงู (ุณูุชู ุชุญุณููู ุจุงูุฐูุงุก ุงูุงุตุทูุงุนู)</label>
    <select id="category_id" name="category_id" class="form-select" required>
        <option value="">-- ุงุฎุชุฑ ุงูุชุตููู ุงููุจุฏุฆู --</option>
        <% if (categories && categories.length > 0) { %>
            <% categories.forEach(category => { %>
                <option value="<%= category.id %>"><%= category.name %></option>
            <% }); %>
        <% } %>
    </select>
</div>

                        <!-- ======== ุงุจุฏุฃ ุงูุฅุถุงูุฉ ูู ููุง ======== -->
            <div class="form-group">
                <label class="form-label">โจ ุญุงูุฉ ุงูููุชุฌ *</label>
                <div style="display: flex; gap: 20px; padding: 10px 0;">
                    <label style="cursor:pointer;"><input type="radio" name="product_condition" value="used" checked required> ูุณุชุนูู</label>
                    <label style="cursor:pointer;"><input type="radio" name="product_condition" value="new" required> ุฌุฏูุฏ</label>
                </div>
            </div>
     
   
            
            <div class="form-group">
                <label for="description" class="form-label">๐ ูุตู ุงูููุชุฌ</label>
                <textarea id="description" name="description" 
                          class="form-textarea"
                          placeholder="ุงูุชุจ ูุตูุงู ููุตูุงู ููููุชุฌ (ุงูุญุงูุฉุ ุงูููุงุตูุงุชุ ุงููููุฒุงุชุ ุฅูุฎ)"
                          maxlength="500"></textarea>
                <small class="form-hint">ุงููุตู ุงุฎุชูุงุฑู ููููู ูุณุงุนุฏ ูู ุฌุฐุจ ุงููุดุชุฑูู ูุฒูุงุฏุฉ ุงูุซูุฉ</small>
            </div>
  <!-- ======== ุจุฏุงูุฉ ุญูู ุฑุงุจุท ุงูููุฏูู ======== -->
<div class="form-group">
    <label for="youtube_link" class="form-label">๐ฅ ุฑุงุจุท ููุฏูู ููุชููุจ (ุงุฎุชูุงุฑู)</label>
    <input type="url" id="youtube_link" name="youtube_link" 
           class="form-input"
           placeholder="https://www.youtube.com/watch?v=...">
    <small class="form-hint">ููููู ุฅุถุงูุฉ ุฑุงุจุท ููุฏูู ููููุชุฌ ููุฒูุฏ ูู ุงูุชูุถูุญ.</small>
</div>          
        <!-- ======== ุจุฏุงูุฉ ูุณู ุฑูุน ุงูุตูุฑุฉ ุงููุญุฏุซ ======== -->
<div class="form-group">
    <label for="image" class="form-label">๐ธ ุตูุฑุฉ ุงูููุชุฌ</label>
    
    <!-- ุญุงููุฉ ุงููุนุงููุฉ (ุณุชููู ูุงุฑุบุฉ ูู ุงูุจุฏุงูุฉ) -->
    <div id="imagePreviewContainer" class="image-preview-container" style="display: none;">
        <!-- ุณูุชู ุฅุถุงูุฉ ุงููุนุงููุฉ ููุง ุจูุงุณุทุฉ ุงูุฌุงูุงุณูุฑูุจุช -->
    </div>

    <!-- ููุทูุฉ ุงูุณุญุจ ูุงูุฅููุงุช -->
    <div class="file-upload-area" id="fileUploadArea">
        <input type="file" id="image" name="image" 
               accept="image/jpeg,image/jpg,image/png,image/gif"
               class="file-input">
        <div class="file-upload-text">
            <i class="upload-icon">๐ท</i>
            <span>ุงุถุบุท ูุงุฎุชูุงุฑ ุตูุฑุฉ ุฃู ุงุณุญุจูุง ููุง</span>
            <small>ุณูุชู ุนุฑุถ ูุนุงููุฉ ููุตูุฑุฉ ููุง</small>
        </div>
    </div>
</div>
<!-- ======== ููุงูุฉ ูุณู ุฑูุน ุงูุตูุฑุฉ ุงููุญุฏุซ ======== -->
            

            
<button type="submit" class="submit-btn pulse" id="submitBtn" onclick="showLoadingOverlay()">
                    <span class="btn-icon" id="btnIcon">๐</span>
                <span id="btnText">ุฅุถุงูุฉ ุงูููุชุฌ</span>
                <div class="loading-spinner" id="loadingSpinner" style="display: none;">
                    <div class="spinner"></div>
                </div>
            </button>
        </form>
        
        <div class="form-footer">
            <a href="/my-products" class="footer-btn">๐ ุนุฑุถ ููุชุฌุงุชู</a>
            <a href="/" class="footer-btn">๐ ุงูุนูุฏุฉ ููุฑุฆูุณูุฉ</a>
        </div>
    </div>
</div>

<script>
<script>
    document.addEventListener('DOMContentLoaded', function() {
        // --- ุนูุงุตุฑ ุงูุชุญูู ูู ุฑูุน ุงูุตูุฑ ---
        const imageInput = document.getElementById('image');
        const previewContainer = document.getElementById('imagePreviewContainer');
        const uploadArea = document.getElementById('fileUploadArea');

        imageInput.addEventListener('change', function(event) {
            const file = event.target.files[0];
            if (!file) return;

            if (file.size > 5 * 1024 * 1024) { // 5MB
                alert('โ๏ธ ุญุฌู ุงูุตูุฑุฉ ูุจูุฑ ุฌุฏุงู. ูุฑุฌู ุงุฎุชูุงุฑ ุตูุฑุฉ ุฃุตุบุฑ ูู 5 ููุฌุงุจุงูุช.');
                event.target.value = '';
                return;
            }
            
            const reader = new FileReader();
            reader.onload = function(e) {
                previewContainer.innerHTML = `
                    <span class="preview-label">ูุนุงููุฉ ุงูุตูุฑุฉ ุงููุฎุชุงุฑุฉ:</span>
                    <div class="preview-image-wrapper">
                        <img src="${e.target.result}" class="preview-image" alt="ูุนุงููุฉ ุงูุตูุฑุฉ">
                        <button type="button" class="remove-image-btn" onclick="removeImage()" title="ุฅุฒุงูุฉ ุงูุตูุฑุฉ">๐๏ธ</button>
                    </div>
                `;
                previewContainer.style.display = 'block';
                uploadArea.style.display = 'none';
            };
            reader.readAsDataURL(file);
        });

        uploadArea.addEventListener('click', function(e) {
            if (e.target.tagName.toLowerCase() !== 'input') {
                imageInput.click();
            }
        });

        // --- ุฅุธูุงุฑ ุดุงุดุฉ ุงูุชุญููู ุนูุฏ ุฅุฑุณุงู ุงููููุฐุฌ ---
        const productForm = document.querySelector('.product-form');
        if (productForm) {
            productForm.addEventListener('submit', function() {
                const loadingOverlay = document.getElementById('loadingOverlay');
             
            });
        }
    });

    // --- ุฏุงูุฉ ุฅุฒุงูุฉ ุงูุตูุฑุฉ ุงููุฎุชุงุฑุฉ (ุชุจูู ุฎุงุฑุฌ DOMContentLoaded) ---
    function removeImage() {
        document.getElementById('image').value = '';
        const previewContainer = document.getElementById('imagePreviewContainer');
        previewContainer.style.display = 'none';
        previewContainer.innerHTML = '';
        document.getElementById('fileUploadArea').style.display = 'block';
    }
</script>
</script>
        </div>
    </main>